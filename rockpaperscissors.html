<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Rock Paper Scissors game</title>
</head>
<h1>Rock Paper Scissors!</h1>
<p>Rules: Game to 3 against the computer. Click 'Reset Score' to begin. Then click your next move! </p>


<body>

    <button type="button" id="resetBtn" >Reset Score</button>

    <button type="button" id="myRockBtn" >Rock</button>
    <button type="button" id="myPaperBtn" >Paper</button>
    <button type="button" id="myScissorsBtn" >Scissors</button>

    <div id="scorelabel">Score:</div>
    <div id="score"> </div>

  <script>
    var randomItem;
    var computerWinCount = 0;
    var playerWinCount = 0;

    function computerplay(){
        var myArray = [
        "rock",
        "paper",
        "scissors"
        ];
        randomItem = myArray[Math.floor(Math.random()*myArray.length)];
        console.log("The computer selected " + randomItem + ".");
        return randomItem;
    }
//document.body.innerHTML = randomItem;

//function playerplay(){
//    const playerInput = window.prompt("Enter either rock,paper, or scissors. ");
//    const playerSelection= playerInput.toLowerCase();
//    console.log("You selected " + playerSelection + ".");
//    return playerSelection;
//}

    var result = 0; // this is declaring it globally so it can be used by the playRound function

    function playRound(playerSelection, computerSelection){
    if ((playerSelection != "rock") && (playerSelection != "paper") && (playerSelection != "scissors")){
        console.log("No contest! You must play either rock, paper, or scissors. Check your spelling and try again.");
        result = 0;
        return result;
    }else if (playerSelection == "rock") {
        if (computerSelection == "rock"){
            console.log("You tie! Rock neither beats or loses to rock.");
            result = 0;
            return result;
        } else if (computerSelection == "paper"){
            console.log("You lose! Rock loses to paper.");
            result = -1;
            return result;
        } else if (computerSelection == "scissors"){
            console.log("You win! Rock beats scissors!");
            result = 1;
            return result;
        }
    }else if (playerSelection == "paper") {
        if (computerSelection == "rock"){
            console.log("You win! Paper beats rock.");
            result = 1;
            return result;
        } else if (computerSelection == "paper"){
            console.log("You tie! Paper neither beats or loses to paper.");
            result = 0;
            return result;
        } else if (computerSelection == "scissors"){
        console.log("You lose! Paper gets cut by scissors.");
            result = -1;
            return result;
    }
    }else if (playerSelection == "scissors"){
        if (computerSelection == "rock"){
            console.log("You lose! Scissors gets crushed by rock.");
            result = -1;
            return result;
        } else if (computerSelection == "paper"){
        console.log("You win! Scissors cuts paper.");
            result = 1;
            return result;
        } else if (computerSelection == "scissors"){
            console.log("You tie! Scissors neither wins or loses to scissors.");
            result = 0;
            return result;
        }
    }else{
        console.log("Something went wrong!")
        result = 0;
        return result;
    }
    }




    function resetScore(){
        playerWinCount = 0;
        computerWinCount = 0;
        document.getElementById("score").innerHTML = playerWinCount + "-" + computerWinCount;
        console.log("The score has been reset. Player Score:"+ playerWinCount + "// Computer Score:" + computerWinCount)
        alert("Click on the rock,paper, or scissors button.")
    }


    function playRock(){
        const playerSelection = "rock";
        console.log("You selected " + playerSelection + ".");
        computerplay();
        const computerSelection = randomItem;
        if (computerSelection == "rock"){
            console.log("You tie a round! Rock neither beats or loses to rock.");
        
        } else if (computerSelection == "paper"){
         console.log("You lose a round! Rock loses to paper.");
            computerWinCount++;
            document.getElementById("score").innerHTML = playerWinCount + "-" + computerWinCount;
            if (playerWinCount == 3){
                console.log("You win!")
                alert("You win!");
            }else if (computerWinCount == 3){
                console.log("You lose!")
                alert("You lose!");
            } else {
                console.log("No winner yet. Keep going!")
            }
        } else if (computerSelection == "scissors"){
            console.log("You win a round! Rock beats scissors!");
            playerWinCount++;
            document.getElementById("score").innerHTML = playerWinCount + "-" + computerWinCount;
            if (playerWinCount == 3){
                console.log("You win!")
                alert("You win!");
            }else if (computerWinCount == 3){
                console.log("You lose!")
                alert("You lose!");
            } else {
                console.log("No winner yet. Keep going!")
            }
        }
    }


    function playPaper(){
        const playerSelection = "paper";
        console.log("You selected " + playerSelection + ".");
        computerplay();
        const computerSelection = randomItem;
        if (computerSelection == "rock"){
            console.log("You win a round! Paper beats rock.");
            playerWinCount++;
            document.getElementById("score").innerHTML = playerWinCount + "-" + computerWinCount;
            if (playerWinCount == 3){
                console.log("You win!")
                alert("You win!");
            }else if (computerWinCount == 3){
                console.log("You lose!")
                alert("You lose!");
            } else {
                console.log("No winner yet. Keep going!")
            }
        } else if (computerSelection == "paper"){
            console.log("You tie a round! Paper neither beats or loses to paper.");
        } else if (computerSelection == "scissors"){
            console.log("You lose a round! Paper gets cut by scissors.");
            computerWinCount++;
            document.getElementById("score").innerHTML = playerWinCount + "-" + computerWinCount;
            if (playerWinCount == 3){
                console.log("You win!")
                alert("You win!");
            }else if (computerWinCount == 3){
                console.log("You lose!")
                alert("You lose!");
            } else {
                console.log("No winner yet. Keep going!")
            }
    }
    }

    function playScissors(){
        const playerSelection = "scissors";
        console.log("You selected " + playerSelection + ".");
        computerplay();
        const computerSelection = randomItem;
        if (computerSelection == "rock"){
            console.log("You lose a round! Scissors loses to rock.")
            computerWinCount++;
            document.getElementById("score").innerHTML = playerWinCount + "-" + computerWinCount;
            if (playerWinCount == 3){
                console.log("You win!")
                alert("You win!");
            }else if (computerWinCount == 3){
                console.log("You lose!")
                alert("You lose!");
            } else {
                console.log("No winner yet. Keep going!")
            }
        }else if(computerSelection == "paper"){
            console.log("You win a round! Scissors beats paper.")
            playerWinCount++;
            document.getElementById("score").innerHTML = playerWinCount + "-" + computerWinCount;
            if (playerWinCount == 3){
                console.log("You win!")
                alert("You win!");
            }else if (computerWinCount == 3){
                console.log("You lose!")
                alert("You lose!");
            } else {
                console.log("No winner yet. Keep going!")
            }
        }
    } 

    document.getElementById("resetBtn").addEventListener("click", resetScore);
    document.getElementById("myRockBtn").addEventListener("click", playRock);
    document.getElementById("myPaperBtn").addEventListener("click", playPaper);
    document.getElementById("myScissorsBtn").addEventListener("click", playScissors);





//first check to see if the player selected either rock paper or scissors, if something other than those, then you tie, with message saying you need to play either rock paper or scissors
//if player played rock, and computer played rock, you tie 
//else if player played rock and computer played paper, you lose 
//else if player played rock and computer played scissors, you win

//else if player played paper and pc played rock, you win
//else if player played paper and pc played paper, you tie
//else if player played paper and pc played scissors, you lose 

//else if player played scissors and pc played rock, you lose 
//else if player played scissors and pc played paper, you win 
//else if player played scissors and pc played scissors, you tie 

//const playerInput = window.prompt("Enter either rock,paper, or scissors. ");
//const playerSelection= playerInput.toLowerCase();
//console.log("You selected " + playerSelection + ".");


function game(){
    //when starting a new game, reset the scores to zero for the player and the computer
    let playerWinCount = 0;
    let computerWinCount = 0;
// iterate until either playerWinCount or computerWinCount is 3. 
    while(playerWinCount != 3 && computerWinCount != 3 ){
        let playerSelection = playerplay();
        let computerSelection = computerplay();
        playRound(playerSelection,computerSelection);
        if (result == 0){
            continue;
        }
        else if (result == 1){
            playerWinCount++;
            console.log("Player Score:"+ playerWinCount + "// Computer Score:" + computerWinCount)
        }
        else if (result == -1){
            computerWinCount++;
            console.log("Player Score:"+ playerWinCount + "// Computer Score:" + computerWinCount)
        }
        else{
            console.log("Something went wrong in the game for-loop")
            break;
        }
    }
    if (playerWinCount === 3){
        console.log("You win!")
    } else if (computerWinCount === 3){
        console.log("You lose!")
    }
}

// game();
// playing a 5 round game , so winner is first to 3 
// start a win count for player and opponent 
// for loop until either player or opponent get 3 wins 
// FOR EACH ROUND: refresh the computer selection before playing 
// ask for input from the player 
//call the function playRound 
// If you win, add a point to player win count . 
// if you lose, add a point to computer win count 
// if you tie, no win count for either 
//loop again for a new round 
  </script>
</body>
</html>